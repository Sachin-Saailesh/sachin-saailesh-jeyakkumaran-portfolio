{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function FadeIn(props){const[maxIsVisible,setMaxIsVisible]=useState(0);const transitionDuration=props.transitionDuration||400;const delay=props.delay||50;const WrapperTag=props.wrapperTag||\"div\";const ChildTag=props.childTag||\"div\";const visible=typeof props.visible===\"undefined\"?true:props.visible;useEffect(()=>{let count=React.Children.count(props.children);if(!visible){// Animate all children out\ncount=0;}if(count===maxIsVisible){// We're done updating maxVisible, notify when animation is done\nconst timeout=setTimeout(()=>{if(props.onComplete)props.onComplete();},transitionDuration);return()=>clearTimeout(timeout);}// Move maxIsVisible toward count\nconst increment=count>maxIsVisible?1:-1;const timeout=setTimeout(()=>{setMaxIsVisible(maxIsVisible+increment);},delay);return()=>clearTimeout(timeout);// eslint-disable-next-line\n},[// eslint-disable-next-line\nReact.Children.count(props.children),delay,maxIsVisible,visible,transitionDuration]);return/*#__PURE__*/_jsx(WrapperTag,{className:props.className,children:React.Children.map(props.children,(child,i)=>{return/*#__PURE__*/_jsx(ChildTag,{className:props.childClassName,style:{transition:\"opacity \".concat(transitionDuration,\"ms, transform \").concat(transitionDuration,\"ms\"),transform:maxIsVisible>i?\"none\":\"translateY(20px)\",opacity:maxIsVisible>i?1:0},children:child});})});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","FadeIn","props","maxIsVisible","setMaxIsVisible","transitionDuration","delay","WrapperTag","wrapperTag","ChildTag","childTag","visible","count","Children","children","timeout","setTimeout","onComplete","clearTimeout","increment","className","map","child","i","childClassName","style","transition","concat","transform","opacity"],"sources":["C:/Users/sachi/portfolio/src/components/FadeIn.tsx"],"sourcesContent":["import React, {\r\n    JSXElementConstructor,\r\n    PropsWithChildren,\r\n    useEffect,\r\n    useState,\r\n  } from \"react\";\r\n  \r\n  interface Props {\r\n    delay?: number;\r\n    transitionDuration?: number;\r\n    wrapperTag?: JSXElementConstructor<any>;\r\n    childTag?: JSXElementConstructor<any>;\r\n    className?: string;\r\n    childClassName?: string;\r\n    visible?: boolean;\r\n    onComplete?: () => any;\r\n  }\r\n  \r\n  export default function FadeIn(props: PropsWithChildren<Props>) {\r\n    const [maxIsVisible, setMaxIsVisible] = useState(0);\r\n    const transitionDuration = props.transitionDuration || 400;\r\n    const delay = props.delay || 50;\r\n    const WrapperTag = props.wrapperTag || \"div\";\r\n    const ChildTag = props.childTag || \"div\";\r\n    const visible = typeof props.visible === \"undefined\" ? true : props.visible;\r\n  \r\n    useEffect(() => {\r\n      let count = React.Children.count(props.children);\r\n      if (!visible) {\r\n        // Animate all children out\r\n        count = 0;\r\n      }\r\n  \r\n      if (count === maxIsVisible) {\r\n        // We're done updating maxVisible, notify when animation is done\r\n        const timeout = setTimeout(() => {\r\n          if (props.onComplete) props.onComplete();\r\n        }, transitionDuration);\r\n        return () => clearTimeout(timeout);\r\n      }\r\n  \r\n      // Move maxIsVisible toward count\r\n      const increment = count > maxIsVisible ? 1 : -1;\r\n      const timeout = setTimeout(() => {\r\n        setMaxIsVisible(maxIsVisible + increment);\r\n      }, delay);\r\n      return () => clearTimeout(timeout);\r\n      // eslint-disable-next-line\r\n    }, [\r\n      // eslint-disable-next-line\r\n      React.Children.count(props.children),\r\n      delay,\r\n      maxIsVisible,\r\n      visible,\r\n      transitionDuration,\r\n    ]);\r\n  \r\n    return (\r\n      <WrapperTag className={props.className}>\r\n        {React.Children.map(props.children, (child, i) => {\r\n          return (\r\n            <ChildTag\r\n              className={props.childClassName}\r\n              style={{\r\n                transition: `opacity ${transitionDuration}ms, transform ${transitionDuration}ms`,\r\n                transform: maxIsVisible > i ? \"none\" : \"translateY(20px)\",\r\n                opacity: maxIsVisible > i ? 1 : 0,\r\n              }}\r\n            >\r\n              {child}\r\n            </ChildTag>\r\n          );\r\n        })}\r\n      </WrapperTag>\r\n    );\r\n  }\r\n  "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAGRC,SAAS,CACTC,QAAQ,KACH,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAaf,cAAe,SAAS,CAAAC,MAAMA,CAACC,KAA+B,CAAE,CAC9D,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGN,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAAAO,kBAAkB,CAAGH,KAAK,CAACG,kBAAkB,EAAI,GAAG,CAC1D,KAAM,CAAAC,KAAK,CAAGJ,KAAK,CAACI,KAAK,EAAI,EAAE,CAC/B,KAAM,CAAAC,UAAU,CAAGL,KAAK,CAACM,UAAU,EAAI,KAAK,CAC5C,KAAM,CAAAC,QAAQ,CAAGP,KAAK,CAACQ,QAAQ,EAAI,KAAK,CACxC,KAAM,CAAAC,OAAO,CAAG,MAAO,CAAAT,KAAK,CAACS,OAAO,GAAK,WAAW,CAAG,IAAI,CAAGT,KAAK,CAACS,OAAO,CAE3Ed,SAAS,CAAC,IAAM,CACd,GAAI,CAAAe,KAAK,CAAGhB,KAAK,CAACiB,QAAQ,CAACD,KAAK,CAACV,KAAK,CAACY,QAAQ,CAAC,CAChD,GAAI,CAACH,OAAO,CAAE,CACZ;AACAC,KAAK,CAAG,CAAC,CACX,CAEA,GAAIA,KAAK,GAAKT,YAAY,CAAE,CAC1B;AACA,KAAM,CAAAY,OAAO,CAAGC,UAAU,CAAC,IAAM,CAC/B,GAAId,KAAK,CAACe,UAAU,CAAEf,KAAK,CAACe,UAAU,CAAC,CAAC,CAC1C,CAAC,CAAEZ,kBAAkB,CAAC,CACtB,MAAO,IAAMa,YAAY,CAACH,OAAO,CAAC,CACpC,CAEA;AACA,KAAM,CAAAI,SAAS,CAAGP,KAAK,CAAGT,YAAY,CAAG,CAAC,CAAG,CAAC,CAAC,CAC/C,KAAM,CAAAY,OAAO,CAAGC,UAAU,CAAC,IAAM,CAC/BZ,eAAe,CAACD,YAAY,CAAGgB,SAAS,CAAC,CAC3C,CAAC,CAAEb,KAAK,CAAC,CACT,MAAO,IAAMY,YAAY,CAACH,OAAO,CAAC,CAClC;AACF,CAAC,CAAE,CACD;AACAnB,KAAK,CAACiB,QAAQ,CAACD,KAAK,CAACV,KAAK,CAACY,QAAQ,CAAC,CACpCR,KAAK,CACLH,YAAY,CACZQ,OAAO,CACPN,kBAAkB,CACnB,CAAC,CAEF,mBACEL,IAAA,CAACO,UAAU,EAACa,SAAS,CAAElB,KAAK,CAACkB,SAAU,CAAAN,QAAA,CACpClB,KAAK,CAACiB,QAAQ,CAACQ,GAAG,CAACnB,KAAK,CAACY,QAAQ,CAAE,CAACQ,KAAK,CAAEC,CAAC,GAAK,CAChD,mBACEvB,IAAA,CAACS,QAAQ,EACPW,SAAS,CAAElB,KAAK,CAACsB,cAAe,CAChCC,KAAK,CAAE,CACLC,UAAU,YAAAC,MAAA,CAAatB,kBAAkB,mBAAAsB,MAAA,CAAiBtB,kBAAkB,MAAI,CAChFuB,SAAS,CAAEzB,YAAY,CAAGoB,CAAC,CAAG,MAAM,CAAG,kBAAkB,CACzDM,OAAO,CAAE1B,YAAY,CAAGoB,CAAC,CAAG,CAAC,CAAG,CAClC,CAAE,CAAAT,QAAA,CAEDQ,KAAK,CACE,CAAC,CAEf,CAAC,CAAC,CACQ,CAAC,CAEjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}